{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"caddy/ssl-renewal/","title":"Troubleshooting Caddy: A Guide to Running and Renewing SSL","text":"<p>This guide outlines a methodical approach to diagnosing and resolving common issues with Caddy, including startup failures and problems with SSL certificate renewal. The process involves systematically checking Caddy's status, configuration, and permissions.</p>"},{"location":"caddy/ssl-renewal/#1-initial-caddy-status-check","title":"1. Initial Caddy Status Check","text":"<p>Start by verifying Caddy's operational status and location.</p> <ul> <li>Check the Caddy process: <code>bash     which caddy</code>     This command shows the path to the Caddy executable.</li> <li>Get Caddy's version: <code>bash     caddy version</code>     This helps in identifying potential version-specific issues.</li> <li>Find Caddy-related files: <code>bash     sudo find /etc -name \u201c*caddy*\u201d -o -name \u201cCaddyfile\u201d 2&gt;/dev/null</code>     This command helps locate Caddy's configuration and related files.</li> <li>View the Caddyfile: <code>bash     sudo cat /etc/caddy/Caddyfile</code>     Review the Caddyfile for any syntax errors or misconfigurations.</li> </ul>"},{"location":"caddy/ssl-renewal/#2-diagnosing-ssl-and-directory-issues","title":"2. Diagnosing SSL and Directory Issues","text":"<p>SSL certificate renewal and Caddy's ability to write to its data directory are frequent points of failure.</p> <ul> <li>List certificate files: <code>bash     sudo ls -la /var/lib/caddy/.local/share/caddy/certificates/</code>     Check if certificates exist and if their permissions are correct.</li> <li>Find certificate and ACME files: <code>bash     sudo find /var/lib/caddy -name \u201c*certificate*\u201d -o -name \u201c*acme*\u201d 2&gt;/dev/null</code>     This helps locate all related SSL and ACME challenge files.</li> <li>List Caddy's data directory contents: <code>bash     sudo ls -la /var/lib/caddy</code>     Verify the permissions and ownership of the Caddy data directory.</li> </ul>"},{"location":"caddy/ssl-renewal/#3-reviewing-logs-and-validation","title":"3. Reviewing Logs and Validation","text":"<p>Logs are crucial for understanding why Caddy might be failing.</p> <ul> <li>Check Caddy service logs: <code>bash     sudo journalctl -u caddy -no-page -n 50</code>     Examine the last 50 lines of the Caddy service journal for error messages.</li> <li>Validate the Caddyfile: <code>bash     sudo caddy validate --config /etc/caddy/Caddyfile</code>     A successful validation confirms that the Caddyfile syntax is correct.</li> </ul>"},{"location":"caddy/ssl-renewal/#4-remediation-steps","title":"4. Remediation Steps","text":"<p>If errors were found, follow these steps to fix common issues.</p> <ul> <li>Restart the Caddy service: <code>bash     sudo systemctl restart caddy</code>     A simple restart can resolve temporary glitches.</li> <li>View the Caddy service unit file: <code>bash     sudo cat /etc/systemd/system/caddy.service</code>     This file defines how Caddy runs and under which user.</li> <li>Test Caddy with its configuration: <code>bash     sudo /usr/local/bin/caddy run --environ --config /etc/caddy/Caddyfile</code>     This command runs Caddy in the foreground, providing real-time output that can reveal subtle errors.</li> <li>Clear old certificate data: <code>bash     sudo rm -rf /root/.local/share/caddy/certificates/     sudo rm -rf /root/.local/share/caddy/locks/</code>     Sometimes, corrupted or outdated certificates can prevent renewal. Deleting them forces Caddy to request new ones.</li> <li>Format the Caddyfile: <code>bash     sudo caddy fmt --overwrite /etc/caddy/Caddyfile</code>     This command standardizes the formatting of the Caddyfile, which can help in spotting syntax issues.</li> </ul>"},{"location":"caddy/ssl-renewal/#5-ensuring-proper-user-and-permissions","title":"5. Ensuring Proper User and Permissions","text":"<p>Incorrect user permissions are a very common cause of Caddy failures. The best practice is to run Caddy as a dedicated, unprivileged system user.</p> <ul> <li>Add a dedicated system user for Caddy: <code>bash     sudo user add --system --home /var/lib/caddy --create-home --shell /usr/sbin/nologin caddy</code></li> <li>Set proper ownership: <code>bash     sudo chown -R caddy:caddy /var/lib/caddy</code>     This ensures Caddy can read and write to its data directory.</li> </ul>"},{"location":"caddy/ssl-renewal/#6-fixing-the-systemd-service-file","title":"6. Fixing the Systemd Service File","text":"<p>The systemd service file dictates Caddy's behavior. An incorrect configuration can cause it to fail silently.</p> <ul> <li> <p>Create or correct the systemd service file:     ```bash     sudo tee /etc/systemd/system/caddy.service &gt; /dev/null &lt;&lt; 'EOF'     [Unit]     Description=Caddy Web Server     Documentation=https://caddyserver.com/docs/     After=network.target network-online.target     Requires=network-online.target</p> <p>[Service] Type=notify User=caddy Group=caddy ExecStart=/usr/local/bin/caddy run --environ --config /etc/caddy/Caddyfile ExecReload=/usr/local/bin/caddy reload --config /etc/caddy/Caddyfile --force TimeoutStopSec=5s LimitNOFILE=1048576 LimitNPROC=1048576 PrivateTmp=true ProtectSystem=full AmbientCapabilities=CAP_NET_BIND_SERVICE NoNewPrivileges=true</p> <p>[Install] WantedBy=multi-user.target EOF <code>* **Reload systemd:**</code>bash sudo systemctl daemon-reload ``` This command makes systemd aware of the new or changed service file.</p> </li> </ul>"},{"location":"caddy/ssl-renewal/#7-final-verification-and-cleanup","title":"7. Final Verification and Cleanup","text":"<ul> <li>Check logs for final errors: <code>bash     sudo journalctl -xeu caddy.service --no-pager -n 20</code>     Review the most recent logs to confirm the service is starting without issues.</li> <li>Check listening ports: <code>bash     sudo lsof -i :2019</code>     This command verifies that Caddy is listening on its default management port.</li> <li>Kill any old Caddy processes: <code>bash     sudo pkill -f caddy</code>     This ensures that no conflicting processes are running.</li> <li>Start the Caddy service: <code>bash     sudo systemctl start caddy</code></li> <li>Test connectivity and SSL: <code>bash     sleep 5 &amp;&amp; curl -I [https://api.nexplace.jp](https://api.nexplace.jp)     echo | openssl s_client -servername api.nexplace.jp -connect api.nexplace.jp:443 2&gt;/dev/null | openssl x509 -noout -dates</code>     These commands confirm that the site is accessible and that the SSL certificate is valid and has been renewed.</li> <li>Enable Caddy to start on boot: <code>bash     sudo systemctl enable caddy</code>     This final step ensures that Caddy will automatically start whenever the system reboots.</li> </ul>"},{"location":"docker/docker_process_guide/","title":"Docker Process Guide","text":"<p>This guide covers the complete Docker workflow from building Spring Boot applications to managing PostgreSQL databases with Docker.</p>"},{"location":"docker/docker_process_guide/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Spring Boot Docker Image Creation</li> <li>Essential Docker Commands</li> <li>PostgreSQL Database Setup</li> <li>Docker Network Configuration</li> <li>PostgreSQL Service Management</li> </ol>"},{"location":"docker/docker_process_guide/#spring-boot-docker-image-creation","title":"Spring Boot Docker Image Creation","text":""},{"location":"docker/docker_process_guide/#building-the-docker-image","title":"Building the Docker Image","text":"<pre><code>./mvnw spring-boot:build-image \"-Dspring-boot.build-image.imageName=orandian2511/jobappimage\"\n</code></pre> <p>Explanation: This command uses Maven Wrapper to build a Docker image for your Spring Boot application. The <code>-Dspring-boot.build-image.imageName</code> parameter specifies the image name and tag. Spring Boot's build-image goal uses Cloud Native Buildpacks to create an optimized Docker image.</p>"},{"location":"docker/docker_process_guide/#pushing-to-docker-hub","title":"Pushing to Docker Hub","text":"<pre><code>docker push orandian2511/jobappimage\n</code></pre> <p>Explanation: Uploads your locally built Docker image to Docker Hub registry under the username <code>orandian2511</code>. This makes the image available for deployment on any system with Docker.</p>"},{"location":"docker/docker_process_guide/#running-the-application","title":"Running the Application","text":"<pre><code># Run in foreground (interactive mode)\ndocker run -p 8080:8080 orandian2511/jobappimage\n\n# Run in background (detached mode)\ndocker run -d -p 8080:8080 orandian2511/jobappimage\n</code></pre> <p>Explanation:  - <code>-p 8080:8080</code>: Maps port 8080 on your host machine to port 8080 inside the container - <code>-d</code>: Runs the container in detached mode (background)</p>"},{"location":"docker/docker_process_guide/#monitoring-the-application","title":"Monitoring the Application","text":"<pre><code># List running containers\ndocker ps\n\n# View container logs\ndocker logs a6c0aa9393dc\n</code></pre> <p>Explanation: <code>docker ps</code> shows active containers, while <code>docker logs</code> displays the output from a specific container using its ID.</p>"},{"location":"docker/docker_process_guide/#essential-docker-commands","title":"Essential Docker Commands","text":""},{"location":"docker/docker_process_guide/#image-management","title":"Image Management","text":"<pre><code># Pull an image from registry\ndocker pull &lt;image&gt;\n\n# Push an image to registry\ndocker push &lt;username/image&gt;\n\n# Build an image from Dockerfile\ndocker build -t &lt;username/image&gt; .\n\n# List all images\ndocker images\n\n# Remove an image\ndocker rmi &lt;image-id/image-name&gt;\n</code></pre>"},{"location":"docker/docker_process_guide/#container-management","title":"Container Management","text":"<pre><code># Run a container\ndocker run -it -d -p &lt;host-port&gt;:&lt;container-port&gt; --name &lt;name&gt; &lt;image&gt;\n\n# Stop a running container\ndocker stop &lt;container-id/container-name&gt;\n\n# Start a stopped container\ndocker start &lt;container-id/container-name&gt;\n\n# Remove a container\ndocker rm &lt;container-id/container-name&gt;\n\n# List running containers\ndocker ps\n\n# List all containers (including stopped)\ndocker ps -a\n</code></pre>"},{"location":"docker/docker_process_guide/#container-interaction","title":"Container Interaction","text":"<pre><code># Execute commands inside a running container\ndocker exec -it &lt;container-name/container-id&gt; bash\n\n# View container logs\ndocker logs &lt;container-name/container-id&gt;\n\n# Inspect container configuration\ndocker inspect &lt;container-name/container-id&gt;\n</code></pre> <p>Key Flags Explained: - <code>-it</code>: Interactive terminal mode - <code>-d</code>: Detached mode (runs in background) - <code>-p</code>: Port mapping - <code>--name</code>: Assigns a custom name to the container</p>"},{"location":"docker/docker_process_guide/#postgresql-database-setup","title":"PostgreSQL Database Setup","text":""},{"location":"docker/docker_process_guide/#basic-postgresql-container","title":"Basic PostgreSQL Container","text":"<pre><code># Run PostgreSQL database\ndocker run -d --name db -e POSTGRES_PASSWORD=postgres postgres\n</code></pre> <p>Explanation: Creates a PostgreSQL container named <code>db</code> with the default password set to <code>postgres</code>. The <code>-e</code> flag sets environment variables.</p>"},{"location":"docker/docker_process_guide/#pgadmin-web-interface","title":"PgAdmin Web Interface","text":"<pre><code># Run PgAdmin for database management\ndocker run -d --name pgadmin \\\n  -e PGADMIN_DEFAULT_EMAIL=admin@gmail.com \\\n  -e PGADMIN_DEFAULT_PASSWORD=admin \\\n  dpage/pgadmin4\n</code></pre> <p>Explanation: Starts PgAdmin4 web interface for PostgreSQL management. You can access it via a web browser once the container is running.</p>"},{"location":"docker/docker_process_guide/#testing-container-communication","title":"Testing Container Communication","text":"<pre><code># Test network connectivity between containers\ndocker exec -it pgadmin ping db\n</code></pre> <p>Explanation: This command attempts to ping the <code>db</code> container from inside the <code>pgadmin</code> container. Initially, this may fail because containers aren't on the same network.</p>"},{"location":"docker/docker_process_guide/#cleanup","title":"Cleanup","text":"<pre><code># Force remove both containers\ndocker rm -f db pgadmin\n</code></pre> <p>Explanation: The <code>-f</code> flag forcefully stops and removes running containers.</p>"},{"location":"docker/docker_process_guide/#docker-network-configuration","title":"Docker Network Configuration","text":""},{"location":"docker/docker_process_guide/#creating-a-custom-network","title":"Creating a Custom Network","text":"<pre><code># Create a user-defined bridge network\ndocker network create my-network\n</code></pre> <p>Explanation: Creates a custom network that allows containers to communicate using container names as hostnames.</p>"},{"location":"docker/docker_process_guide/#running-containers-on-custom-network","title":"Running Containers on Custom Network","text":"<pre><code># Run PostgreSQL on custom network\ndocker run -d --name db --network my-network \\\n  -e POSTGRES_PASSWORD=postgres postgres\n\n# Run PgAdmin on the same network\ndocker run -d --name pgadmin --network my-network \\\n  -e PGADMIN_DEFAULT_EMAIL=user@domain.com \\\n  -e PGADMIN_DEFAULT_PASSWORD=SuperSecret \\\n  dpage/pgadmin4\n</code></pre> <p>Explanation: Both containers are now on the same custom network, enabling them to communicate using container names (<code>db</code>, <code>pgadmin</code>) as hostnames.</p>"},{"location":"docker/docker_process_guide/#verify-network-connectivity","title":"Verify Network Connectivity","text":"<pre><code># Test connectivity between networked containers\ndocker exec -it pgadmin ping db\n</code></pre> <p>Explanation: This should now work successfully since both containers are on the same network.</p>"},{"location":"docker/docker_process_guide/#postgresql-service-management","title":"PostgreSQL Service Management","text":""},{"location":"docker/docker_process_guide/#stopping-local-postgresql-services","title":"Stopping Local PostgreSQL Services","text":"<pre><code># Stop PostgreSQL service (macOS with Homebrew)\nsudo brew services stop postgresql\n\n# Kill any running PostgreSQL processes\nsudo pkill -f postgres\n</code></pre> <p>Explanation: These commands stop local PostgreSQL installations that might conflict with Docker containers. This is useful when you want to use PostgreSQL in Docker instead of a local installation.</p>"},{"location":"docker/docker_process_guide/#best-practices","title":"Best Practices","text":"<ol> <li>Use specific tags: Instead of <code>latest</code>, use version tags for production</li> <li>Environment variables: Store sensitive data in environment variables, not in the image</li> <li>Volume mapping: Use volumes for persistent data storage</li> <li>Resource limits: Set memory and CPU limits for containers</li> <li>Health checks: Implement health checks for better monitoring</li> <li>Multi-stage builds: Use multi-stage Dockerfiles for smaller production images</li> </ol>"},{"location":"docker/docker_process_guide/#troubleshooting-tips","title":"Troubleshooting Tips","text":"<ul> <li>Use <code>docker logs &lt;container-name&gt;</code> to debug container issues</li> <li>Check port conflicts with <code>netstat -tlnp | grep :8080</code></li> <li>Verify network connectivity with <code>docker network ls</code> and <code>docker network inspect</code></li> <li>Clean up unused resources with <code>docker system prune</code></li> </ul>"},{"location":"git/branching-merging/","title":"Branching &amp; Merging","text":"<p>Problem <code>error: Your local changes to the following files would be overwritten by merge</code></p> <p>Solution</p> <pre><code># Create a new branch\ngit branch {branchName}\n</code></pre> <pre><code># Switch to a branch\ngit checkout {branchName}\n</code></pre> <pre><code># Merge a remote branch into your current branch\ngit merge origin/{branchName}\n</code></pre>"},{"location":"git/merge-conflict/","title":"Fixing Merge Conflict in Git","text":"<p>Problem <code>error: Your local changes to the following files would be overwritten by merge</code></p> <p>Solution</p> <pre><code>git stash\ngit pull origin main\ngit stash pop\n# Resolve any merge conflicts if they arise\n</code></pre>"}]}